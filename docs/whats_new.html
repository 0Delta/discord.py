
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>Changelog &#8212; discord.py 1.0.0a documentation</title>
    <link rel="stylesheet" href="_static/style.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/custom.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="prev" title="Frequently Asked Questions" href="faq.html" />
   
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9">

  </head><body>
  
  

    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="faq.html" title="Frequently Asked Questions"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">discord.py 1.0.0a documentation</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="changelog">
<span id="whats-new"></span><h1>Changelog<a class="headerlink" href="#changelog" title="Permalink to this headline">¶</a></h1>
<p>This page keeps a detailed human friendly rendering of what’s new and changed
in specific versions.</p>
<div class="section" id="v0-16-6">
<span id="vp0p16p6"></span><h2>v0.16.6<a class="headerlink" href="#v0-16-6" title="Permalink to this headline">¶</a></h2>
<div class="section" id="bug-fixes">
<h3>Bug Fixes<a class="headerlink" href="#bug-fixes" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Fix issue with <code class="xref py py-meth docutils literal notranslate"><span class="pre">Client.create_server()</span></code> that made it stop working.</p></li>
<li><p>Fix main thread being blocked upon calling <code class="docutils literal notranslate"><span class="pre">StreamPlayer.stop</span></code>.</p></li>
<li><p>Handle HEARTBEAT_ACK and resume gracefully when it occurs.</p></li>
<li><p>Fix race condition when pre-emptively rate limiting that caused releasing an already released lock.</p></li>
<li><p>Fix invalid state errors when immediately cancelling a coroutine.</p></li>
</ul>
</div>
</div>
<div class="section" id="v0-16-1">
<span id="vp0p16p1"></span><h2>v0.16.1<a class="headerlink" href="#v0-16-1" title="Permalink to this headline">¶</a></h2>
<p>This release is just a bug fix release with some better rate limit implementation.</p>
<div class="section" id="id1">
<h3>Bug Fixes<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Servers are now properly chunked for user bots.</p></li>
<li><p>The CDN URL is now used instead of the API URL for assets.</p></li>
<li><p>Rate limit implementation now tries to use header information if possible.</p></li>
<li><p>Event loop is now properly propagated (<a class="reference external" href="https://github.com/Rapptz/discord.py/issues/420">issue 420</a>)</p></li>
<li><p>Allow falsey values in <code class="xref py py-meth docutils literal notranslate"><span class="pre">Client.send_message()</span></code> and <code class="xref py py-meth docutils literal notranslate"><span class="pre">Client.send_file()</span></code>.</p></li>
</ul>
</div>
</div>
<div class="section" id="v0-16-0">
<span id="vp0p16p0"></span><h2>v0.16.0<a class="headerlink" href="#v0-16-0" title="Permalink to this headline">¶</a></h2>
<div class="section" id="new-features">
<h3>New Features<a class="headerlink" href="#new-features" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Add <code class="xref py py-attr docutils literal notranslate"><span class="pre">Channel.overwrites</span></code> to get all the permission overwrites of a channel.</p></li>
<li><p>Add <code class="xref py py-attr docutils literal notranslate"><span class="pre">Server.features</span></code> to get information about partnered servers.</p></li>
</ul>
</div>
<div class="section" id="id2">
<h3>Bug Fixes<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h3>
<ul>
<li><p>Timeout when waiting for offline members while triggering <a class="reference internal" href="api.html#discord.on_ready" title="discord.on_ready"><code class="xref py py-func docutils literal notranslate"><span class="pre">on_ready()</span></code></a>.</p>
<blockquote>
<div><ul class="simple">
<li><p>The fact that we did not timeout caused a gigantic memory leak in the library that caused
thousands of duplicate <a class="reference internal" href="api.html#discord.Member" title="discord.Member"><code class="xref py py-class docutils literal notranslate"><span class="pre">Member</span></code></a> instances causing big memory spikes.</p></li>
</ul>
</div></blockquote>
</li>
<li><p>Discard null sequences in the gateway.</p>
<blockquote>
<div><ul class="simple">
<li><p>The fact these were not discarded meant that <a class="reference internal" href="api.html#discord.on_ready" title="discord.on_ready"><code class="xref py py-func docutils literal notranslate"><span class="pre">on_ready()</span></code></a> kept being called instead of
<a class="reference internal" href="api.html#discord.on_resumed" title="discord.on_resumed"><code class="xref py py-func docutils literal notranslate"><span class="pre">on_resumed()</span></code></a>. Since this has been corrected, in most cases <a class="reference internal" href="api.html#discord.on_ready" title="discord.on_ready"><code class="xref py py-func docutils literal notranslate"><span class="pre">on_ready()</span></code></a> will be
called once or twice with <a class="reference internal" href="api.html#discord.on_resumed" title="discord.on_resumed"><code class="xref py py-func docutils literal notranslate"><span class="pre">on_resumed()</span></code></a> being called much more often.</p></li>
</ul>
</div></blockquote>
</li>
</ul>
</div>
</div>
<div class="section" id="v0-15-1">
<span id="vp0p15p1"></span><h2>v0.15.1<a class="headerlink" href="#v0-15-1" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>Fix crash on duplicate or out of order reactions.</p></li>
</ul>
</div>
<div class="section" id="v0-15-0">
<span id="vp0p15p0"></span><h2>v0.15.0<a class="headerlink" href="#v0-15-0" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id3">
<h3>New Features<a class="headerlink" href="#id3" title="Permalink to this headline">¶</a></h3>
<ul>
<li><p>Rich Embeds for messages are now supported.</p>
<blockquote>
<div><ul class="simple">
<li><p>To do so, create your own <a class="reference internal" href="api.html#discord.Embed" title="discord.Embed"><code class="xref py py-class docutils literal notranslate"><span class="pre">Embed</span></code></a> and pass the instance to the <code class="docutils literal notranslate"><span class="pre">embed</span></code> keyword argument to <code class="xref py py-meth docutils literal notranslate"><span class="pre">Client.send_message()</span></code> or <code class="xref py py-meth docutils literal notranslate"><span class="pre">Client.edit_message()</span></code>.</p></li>
</ul>
</div></blockquote>
</li>
<li><p>Add <code class="xref py py-meth docutils literal notranslate"><span class="pre">Client.clear_reactions()</span></code> to remove all reactions from a message.</p></li>
<li><p>Add support for MESSAGE_REACTION_REMOVE_ALL event, under <a class="reference internal" href="api.html#discord.on_reaction_clear" title="discord.on_reaction_clear"><code class="xref py py-func docutils literal notranslate"><span class="pre">on_reaction_clear()</span></code></a>.</p></li>
<li><p>Add <a class="reference internal" href="api.html#discord.Permissions.update" title="discord.Permissions.update"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Permissions.update()</span></code></a> and <a class="reference internal" href="api.html#discord.PermissionOverwrite.update" title="discord.PermissionOverwrite.update"><code class="xref py py-meth docutils literal notranslate"><span class="pre">PermissionOverwrite.update()</span></code></a> for bulk permission updates.</p>
<blockquote>
<div><ul class="simple">
<li><p>This allows you to use e.g. <code class="docutils literal notranslate"><span class="pre">p.update(read_messages=True,</span> <span class="pre">send_messages=False)</span></code> in a single line.</p></li>
</ul>
</div></blockquote>
</li>
<li><p>Add <a class="reference internal" href="api.html#discord.PermissionOverwrite.is_empty" title="discord.PermissionOverwrite.is_empty"><code class="xref py py-meth docutils literal notranslate"><span class="pre">PermissionOverwrite.is_empty()</span></code></a> to check if the overwrite is empty (i.e. has no overwrites set explicitly as true or false).</p></li>
</ul>
<p>For the command extension, the following changed:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">Context</span></code> is no longer slotted to facilitate setting dynamic attributes.</p></li>
</ul>
</div>
</div>
<div class="section" id="v0-14-3">
<span id="vp0p14p3"></span><h2>v0.14.3<a class="headerlink" href="#v0-14-3" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id4">
<h3>Bug Fixes<a class="headerlink" href="#id4" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Fix crash when dealing with MESSAGE_REACTION_REMOVE</p></li>
<li><p>Fix incorrect buckets for reactions.</p></li>
</ul>
</div>
</div>
<div class="section" id="v0-14-2">
<span id="v0p14p2"></span><h2>v0.14.2<a class="headerlink" href="#v0-14-2" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id5">
<h3>New Features<a class="headerlink" href="#id5" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><dl class="simple">
<dt><code class="xref py py-meth docutils literal notranslate"><span class="pre">Client.wait_for_reaction()</span></code> now returns a namedtuple with <code class="docutils literal notranslate"><span class="pre">reaction</span></code> and <code class="docutils literal notranslate"><span class="pre">user</span></code> attributes.</dt>
<dd><ul>
<li><p>This is for better support in the case that <code class="docutils literal notranslate"><span class="pre">None</span></code> is returned since tuple unpacking can lead to issues.</p></li>
</ul>
</dd>
</dl>
</li>
</ul>
</div>
<div class="section" id="id6">
<h3>Bug Fixes<a class="headerlink" href="#id6" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Fix bug that disallowed <code class="docutils literal notranslate"><span class="pre">None</span></code> to be passed for <code class="docutils literal notranslate"><span class="pre">emoji</span></code> parameter in <code class="xref py py-meth docutils literal notranslate"><span class="pre">Client.wait_for_reaction()</span></code>.</p></li>
</ul>
</div>
</div>
<div class="section" id="v0-14-1">
<span id="v0p14p1"></span><h2>v0.14.1<a class="headerlink" href="#v0-14-1" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id7">
<h3>Bug fixes<a class="headerlink" href="#id7" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><dl class="simple">
<dt>Fix bug with <cite>Reaction</cite> not being visible at import.</dt>
<dd><ul>
<li><p>This was also breaking the documentation.</p></li>
</ul>
</dd>
</dl>
</li>
</ul>
</div>
</div>
<div class="section" id="v0-14-0">
<span id="v0p14p0"></span><h2>v0.14.0<a class="headerlink" href="#v0-14-0" title="Permalink to this headline">¶</a></h2>
<p>This update adds new API features and a couple of bug fixes.</p>
<div class="section" id="id8">
<h3>New Features<a class="headerlink" href="#id8" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Add support for Manage Webhooks permission under <a class="reference internal" href="api.html#discord.Permissions.manage_webhooks" title="discord.Permissions.manage_webhooks"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Permissions.manage_webhooks</span></code></a></p></li>
<li><p>Add support for <code class="docutils literal notranslate"><span class="pre">around</span></code> argument in 3.5+ <code class="xref py py-meth docutils literal notranslate"><span class="pre">Client.logs_from()</span></code>.</p></li>
<li><dl class="simple">
<dt>Add support for reactions.</dt>
<dd><ul>
<li><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">Client.add_reaction()</span></code> to add a reactions</p></li>
<li><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">Client.remove_reaction()</span></code> to remove a reaction.</p></li>
<li><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">Client.get_reaction_users()</span></code> to get the users that reacted to a message.</p></li>
<li><p><a class="reference internal" href="api.html#discord.Permissions.add_reactions" title="discord.Permissions.add_reactions"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Permissions.add_reactions</span></code></a> permission bit support.</p></li>
<li><p>Two new events, <a class="reference internal" href="api.html#discord.on_reaction_add" title="discord.on_reaction_add"><code class="xref py py-func docutils literal notranslate"><span class="pre">on_reaction_add()</span></code></a> and <a class="reference internal" href="api.html#discord.on_reaction_remove" title="discord.on_reaction_remove"><code class="xref py py-func docutils literal notranslate"><span class="pre">on_reaction_remove()</span></code></a>.</p></li>
<li><p><a class="reference internal" href="api.html#discord.Message.reactions" title="discord.Message.reactions"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Message.reactions</span></code></a> to get reactions from a message.</p></li>
<li><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">Client.wait_for_reaction()</span></code> to wait for a reaction from a user.</p></li>
</ul>
</dd>
</dl>
</li>
</ul>
</div>
<div class="section" id="id9">
<h3>Bug Fixes<a class="headerlink" href="#id9" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Fix bug with Paginator still allowing lines that are too long.</p></li>
<li><p>Fix the <a class="reference internal" href="api.html#discord.Permissions.manage_emojis" title="discord.Permissions.manage_emojis"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Permissions.manage_emojis</span></code></a> bit being incorrect.</p></li>
</ul>
</div>
</div>
<div class="section" id="v0-13-0">
<span id="v0p13p0"></span><h2>v0.13.0<a class="headerlink" href="#v0-13-0" title="Permalink to this headline">¶</a></h2>
<p>This is a backwards compatible update with new features.</p>
<div class="section" id="id10">
<h3>New Features<a class="headerlink" href="#id10" title="Permalink to this headline">¶</a></h3>
<ul>
<li><p>Add the ability to manage emojis.</p>
<blockquote>
<div><ul class="simple">
<li><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">Client.create_custom_emoji()</span></code> to create new emoji.</p></li>
<li><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">Client.edit_custom_emoji()</span></code> to edit an old emoji.</p></li>
<li><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">Client.delete_custom_emoji()</span></code> to delete a custom emoji.</p></li>
</ul>
</div></blockquote>
</li>
<li><p>Add new <a class="reference internal" href="api.html#discord.Permissions.manage_emojis" title="discord.Permissions.manage_emojis"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Permissions.manage_emojis</span></code></a> toggle.</p>
<blockquote>
<div><ul class="simple">
<li><p>This applies for <a class="reference internal" href="api.html#discord.PermissionOverwrite" title="discord.PermissionOverwrite"><code class="xref py py-class docutils literal notranslate"><span class="pre">PermissionOverwrite</span></code></a> as well.</p></li>
</ul>
</div></blockquote>
</li>
<li><p>Add new statuses for <a class="reference internal" href="api.html#discord.Status" title="discord.Status"><code class="xref py py-class docutils literal notranslate"><span class="pre">Status</span></code></a>.</p>
<blockquote>
<div><ul class="simple">
<li><p><a class="reference internal" href="api.html#discord.Status.dnd" title="discord.Status.dnd"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Status.dnd</span></code></a> (aliased with <a class="reference internal" href="api.html#discord.Status.do_not_disturb" title="discord.Status.do_not_disturb"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Status.do_not_disturb</span></code></a>) for Do Not Disturb.</p></li>
<li><p><a class="reference internal" href="api.html#discord.Status.invisible" title="discord.Status.invisible"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Status.invisible</span></code></a> for setting your status to invisible (please see the docs for a caveat).</p></li>
</ul>
</div></blockquote>
</li>
<li><p>Deprecate <code class="xref py py-meth docutils literal notranslate"><span class="pre">Client.change_status()</span></code></p>
<blockquote>
<div><ul class="simple">
<li><p>Use <a class="reference internal" href="api.html#discord.Client.change_presence" title="discord.Client.change_presence"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Client.change_presence()</span></code></a> instead for better more up to date functionality.</p></li>
<li><p>This method is subject for removal in a future API version.</p></li>
</ul>
</div></blockquote>
</li>
<li><p>Add <a class="reference internal" href="api.html#discord.Client.change_presence" title="discord.Client.change_presence"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Client.change_presence()</span></code></a> for changing your status with the new Discord API change.</p>
<blockquote>
<div><ul class="simple">
<li><p>This is the only method that allows changing your status to invisible or do not disturb.</p></li>
</ul>
</div></blockquote>
</li>
</ul>
</div>
<div class="section" id="id11">
<h3>Bug Fixes<a class="headerlink" href="#id11" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Paginator pages do not exceed their max_size anymore (<a class="reference external" href="https://github.com/Rapptz/discord.py/issues/340">issue 340</a>)</p></li>
<li><p>Do Not Disturb users no longer show up offline due to the new <a class="reference internal" href="api.html#discord.Status" title="discord.Status"><code class="xref py py-class docutils literal notranslate"><span class="pre">Status</span></code></a> changes.</p></li>
</ul>
</div>
</div>
<div class="section" id="v0-12-0">
<span id="v0p12p0"></span><h2>v0.12.0<a class="headerlink" href="#v0-12-0" title="Permalink to this headline">¶</a></h2>
<p>This is a bug fix update that also comes with new features.</p>
<div class="section" id="id12">
<h3>New Features<a class="headerlink" href="#id12" title="Permalink to this headline">¶</a></h3>
<ul>
<li><p>Add custom emoji support.</p>
<blockquote>
<div><ul class="simple">
<li><p>Adds a new class to represent a custom Emoji named <a class="reference internal" href="api.html#discord.Emoji" title="discord.Emoji"><code class="xref py py-class docutils literal notranslate"><span class="pre">Emoji</span></code></a></p></li>
<li><p>Adds a utility generator function, <code class="xref py py-meth docutils literal notranslate"><span class="pre">Client.get_all_emojis()</span></code>.</p></li>
<li><p>Adds a list of emojis on a server, <code class="xref py py-attr docutils literal notranslate"><span class="pre">Server.emojis</span></code>.</p></li>
<li><p>Adds a new event, <code class="xref py py-func docutils literal notranslate"><span class="pre">on_server_emojis_update()</span></code>.</p></li>
</ul>
</div></blockquote>
</li>
<li><p>Add new server regions to <code class="xref py py-class docutils literal notranslate"><span class="pre">ServerRegion</span></code></p>
<blockquote>
<div><ul class="simple">
<li><p><code class="xref py py-attr docutils literal notranslate"><span class="pre">ServerRegion.eu_central</span></code> and <code class="xref py py-attr docutils literal notranslate"><span class="pre">ServerRegion.eu_west</span></code>.</p></li>
</ul>
</div></blockquote>
</li>
<li><p>Add support for new pinned system message under <a class="reference internal" href="api.html#discord.MessageType.pins_add" title="discord.MessageType.pins_add"><code class="xref py py-attr docutils literal notranslate"><span class="pre">MessageType.pins_add</span></code></a>.</p></li>
<li><p>Add order comparisons for <a class="reference internal" href="api.html#discord.Role" title="discord.Role"><code class="xref py py-class docutils literal notranslate"><span class="pre">Role</span></code></a> to allow it to be compared with regards to hierarchy.</p>
<blockquote>
<div><ul class="simple">
<li><p>This means that you can now do <code class="docutils literal notranslate"><span class="pre">role_a</span> <span class="pre">&gt;</span> <span class="pre">role_b</span></code> etc to check if <code class="docutils literal notranslate"><span class="pre">role_b</span></code> is lower in the hierarchy.</p></li>
</ul>
</div></blockquote>
</li>
<li><p>Add <code class="xref py py-attr docutils literal notranslate"><span class="pre">Server.role_hierarchy</span></code> to get the server’s role hierarchy.</p></li>
<li><p>Add <code class="xref py py-attr docutils literal notranslate"><span class="pre">Member.server_permissions</span></code> to get a member’s server permissions without their channel specific overwrites.</p></li>
<li><p>Add <a class="reference internal" href="api.html#discord.Client.get_user_info" title="discord.Client.get_user_info"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Client.get_user_info()</span></code></a> to retrieve a user’s info from their ID.</p></li>
<li><p>Add a new <code class="docutils literal notranslate"><span class="pre">Player</span></code> property, <code class="docutils literal notranslate"><span class="pre">Player.error</span></code> to fetch the error that stopped the player.</p>
<blockquote>
<div><ul class="simple">
<li><p>To help with this change, a player’s <code class="docutils literal notranslate"><span class="pre">after</span></code> function can now take a single parameter denoting the current player.</p></li>
</ul>
</div></blockquote>
</li>
<li><p>Add support for server verification levels.</p>
<blockquote>
<div><ul class="simple">
<li><p>Adds a new enum called <a class="reference internal" href="api.html#discord.VerificationLevel" title="discord.VerificationLevel"><code class="xref py py-class docutils literal notranslate"><span class="pre">VerificationLevel</span></code></a>.</p></li>
<li><p>This enum can be used in <code class="xref py py-meth docutils literal notranslate"><span class="pre">Client.edit_server()</span></code> under the <code class="docutils literal notranslate"><span class="pre">verification_level</span></code> keyword argument.</p></li>
<li><p>Adds a new attribute in the server, <code class="xref py py-attr docutils literal notranslate"><span class="pre">Server.verification_level</span></code>.</p></li>
</ul>
</div></blockquote>
</li>
<li><p>Add <code class="xref py py-attr docutils literal notranslate"><span class="pre">Server.voice_client</span></code> shortcut property for <code class="xref py py-meth docutils literal notranslate"><span class="pre">Client.voice_client_in()</span></code>.</p>
<blockquote>
<div><ul class="simple">
<li><p>This is technically old (was added in v0.10.0) but was undocumented until v0.12.0.</p></li>
</ul>
</div></blockquote>
</li>
</ul>
<p>For the command extension, the following are new:</p>
<ul class="simple">
<li><p>Add custom emoji converter.</p></li>
<li><p>All default converters that can take IDs can now convert via ID.</p></li>
<li><p>Add coroutine support for <code class="docutils literal notranslate"><span class="pre">Bot.command_prefix</span></code>.</p></li>
<li><p>Add a method to reset command cooldown.</p></li>
</ul>
</div>
<div class="section" id="id13">
<h3>Bug Fixes<a class="headerlink" href="#id13" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Fix bug that caused the library to not work with the latest <code class="docutils literal notranslate"><span class="pre">websockets</span></code> library.</p></li>
<li><p>Fix bug that leaked keep alive threads (<a class="reference external" href="https://github.com/Rapptz/discord.py/issues/309">issue 309</a>)</p></li>
<li><p>Fix bug that disallowed <code class="xref py py-class docutils literal notranslate"><span class="pre">ServerRegion</span></code> from being used in <code class="xref py py-meth docutils literal notranslate"><span class="pre">Client.edit_server()</span></code>.</p></li>
<li><p>Fix bug in <code class="xref py py-meth docutils literal notranslate"><span class="pre">Channel.permissions_for()</span></code> that caused permission resolution to happen out of order.</p></li>
<li><p>Fix bug in <a class="reference internal" href="api.html#discord.Member.top_role" title="discord.Member.top_role"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Member.top_role</span></code></a> that did not account for same-position roles.</p></li>
</ul>
</div>
</div>
<div class="section" id="v0-11-0">
<span id="v0p11p0"></span><h2>v0.11.0<a class="headerlink" href="#v0-11-0" title="Permalink to this headline">¶</a></h2>
<p>This is a minor bug fix update that comes with a gateway update (v5 -&gt; v6).</p>
<div class="section" id="breaking-changes">
<h3>Breaking Changes<a class="headerlink" href="#breaking-changes" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">Permissions.change_nicknames</span></code> has been renamed to <a class="reference internal" href="api.html#discord.Permissions.change_nickname" title="discord.Permissions.change_nickname"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Permissions.change_nickname</span></code></a> to match the UI.</p></li>
</ul>
</div>
<div class="section" id="id14">
<h3>New Features<a class="headerlink" href="#id14" title="Permalink to this headline">¶</a></h3>
<ul>
<li><p>Add the ability to prune members via <code class="xref py py-meth docutils literal notranslate"><span class="pre">Client.prune_members()</span></code>.</p></li>
<li><p>Switch the websocket gateway version to v6 from v5. This allows the library to work with group DMs and 1-on-1 calls.</p></li>
<li><p>Add <a class="reference internal" href="api.html#discord.AppInfo.owner" title="discord.AppInfo.owner"><code class="xref py py-attr docutils literal notranslate"><span class="pre">AppInfo.owner</span></code></a> attribute.</p></li>
<li><p>Add <a class="reference internal" href="api.html#discord.CallMessage" title="discord.CallMessage"><code class="xref py py-class docutils literal notranslate"><span class="pre">CallMessage</span></code></a> for group voice call messages.</p></li>
<li><p>Add <a class="reference internal" href="api.html#discord.GroupCall" title="discord.GroupCall"><code class="xref py py-class docutils literal notranslate"><span class="pre">GroupCall</span></code></a> for group voice call information.</p></li>
<li><p>Add <a class="reference internal" href="api.html#discord.Message.system_content" title="discord.Message.system_content"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Message.system_content</span></code></a> to get the system message.</p></li>
<li><p>Add the remaining VIP servers and the Brazil servers into <code class="xref py py-class docutils literal notranslate"><span class="pre">ServerRegion</span></code> enum.</p></li>
<li><p>Add <code class="docutils literal notranslate"><span class="pre">stderr</span></code> argument to <code class="xref py py-meth docutils literal notranslate"><span class="pre">VoiceClient.create_ffmpeg_player()</span></code> to redirect stderr.</p></li>
<li><p>The library now handles implicit permission resolution in <code class="xref py py-meth docutils literal notranslate"><span class="pre">Channel.permissions_for()</span></code>.</p></li>
<li><p>Add <code class="xref py py-attr docutils literal notranslate"><span class="pre">Server.mfa_level</span></code> to query a server’s 2FA requirement.</p></li>
<li><p>Add <a class="reference internal" href="api.html#discord.Permissions.external_emojis" title="discord.Permissions.external_emojis"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Permissions.external_emojis</span></code></a> permission.</p></li>
<li><p>Add <a class="reference internal" href="api.html#discord.Member.voice" title="discord.Member.voice"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Member.voice</span></code></a> attribute that refers to a <a class="reference internal" href="api.html#discord.VoiceState" title="discord.VoiceState"><code class="xref py py-class docutils literal notranslate"><span class="pre">VoiceState</span></code></a>.</p>
<blockquote>
<div><ul class="simple">
<li><p>For backwards compatibility, the member object will have properties mirroring the old behaviour.</p></li>
</ul>
</div></blockquote>
</li>
</ul>
<p>For the command extension, the following are new:</p>
<ul class="simple">
<li><p>Command cooldown system with the <code class="docutils literal notranslate"><span class="pre">cooldown</span></code> decorator.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">UserInputError</span></code> exception for the hierarchy for user input related errors.</p></li>
</ul>
</div>
<div class="section" id="id15">
<h3>Bug Fixes<a class="headerlink" href="#id15" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p><code class="xref py py-attr docutils literal notranslate"><span class="pre">Client.email</span></code> is now saved when using a token for user accounts.</p></li>
<li><p>Fix issue when removing roles out of order.</p></li>
<li><p>Fix bug where discriminators would not update.</p></li>
<li><p>Handle cases where <code class="docutils literal notranslate"><span class="pre">HEARTBEAT</span></code> opcode is received. This caused bots to disconnect seemingly randomly.</p></li>
</ul>
<p>For the command extension, the following bug fixes apply:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">Bot.check</span></code> decorator is actually a decorator not requiring parentheses.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Bot.remove_command</span></code> and <code class="docutils literal notranslate"><span class="pre">Group.remove_command</span></code> no longer throw if the command doesn’t exist.</p></li>
<li><p>Command names are no longer forced to be <code class="docutils literal notranslate"><span class="pre">lower()</span></code>.</p></li>
<li><p>Fix a bug where Member and User converters failed to work in private message contexts.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">HelpFormatter</span></code> now ignores hidden commands when deciding the maximum width.</p></li>
</ul>
</div>
</div>
<div class="section" id="v0-10-0">
<span id="v0p10p0"></span><h2>v0.10.0<a class="headerlink" href="#v0-10-0" title="Permalink to this headline">¶</a></h2>
<p>For breaking changes, see <a class="reference internal" href="migrating_to_async.html#migrating-to-async"><span class="std std-ref">Migrating to v0.10.0</span></a>. The breaking changes listed there will not be enumerated below. Since this version is rather a big departure from v0.9.2, this change log will be non-exhaustive.</p>
<div class="section" id="id16">
<h3>New Features<a class="headerlink" href="#id16" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>The library is now fully <code class="docutils literal notranslate"><span class="pre">asyncio</span></code> compatible, allowing you to write non-blocking code a lot more easily.</p></li>
<li><p>The library now fully handles 429s and unconditionally retries on 502s.</p></li>
<li><p>A new command extension module was added but is currently undocumented. Figuring it out is left as an exercise to the reader.</p></li>
<li><p>Two new exception types, <a class="reference internal" href="api.html#discord.Forbidden" title="discord.Forbidden"><code class="xref py py-exc docutils literal notranslate"><span class="pre">Forbidden</span></code></a> and <a class="reference internal" href="api.html#discord.NotFound" title="discord.NotFound"><code class="xref py py-exc docutils literal notranslate"><span class="pre">NotFound</span></code></a> to denote permission errors or 404 errors.</p></li>
<li><p>Added <a class="reference internal" href="api.html#discord.Client.delete_invite" title="discord.Client.delete_invite"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Client.delete_invite()</span></code></a> to revoke invites.</p></li>
<li><p>Added support for sending voice. Check <a class="reference internal" href="api.html#discord.VoiceClient" title="discord.VoiceClient"><code class="xref py py-class docutils literal notranslate"><span class="pre">VoiceClient</span></code></a> for more details.</p></li>
<li><p>Added <code class="xref py py-meth docutils literal notranslate"><span class="pre">Client.wait_for_message()</span></code> coroutine to aid with follow up commands.</p></li>
<li><p>Added <a class="reference internal" href="api.html#discord.version_info" title="discord.version_info"><code class="xref py py-data docutils literal notranslate"><span class="pre">version_info</span></code></a> named tuple to check version info of the library.</p></li>
<li><p>Login credentials are now cached to have a faster login experience. You can disable this by passing in <code class="docutils literal notranslate"><span class="pre">cache_auth=False</span></code>
when constructing a <a class="reference internal" href="api.html#discord.Client" title="discord.Client"><code class="xref py py-class docutils literal notranslate"><span class="pre">Client</span></code></a>.</p></li>
<li><p>New utility function, <a class="reference internal" href="api.html#discord.utils.get" title="discord.utils.get"><code class="xref py py-func docutils literal notranslate"><span class="pre">discord.utils.get()</span></code></a> to simplify retrieval of items based on attributes.</p></li>
<li><p>All data classes now support <code class="docutils literal notranslate"><span class="pre">!=</span></code>, <code class="docutils literal notranslate"><span class="pre">==</span></code>, <code class="docutils literal notranslate"><span class="pre">hash(obj)</span></code> and <code class="docutils literal notranslate"><span class="pre">str(obj)</span></code>.</p></li>
<li><p>Added <code class="xref py py-meth docutils literal notranslate"><span class="pre">Client.get_bans()</span></code> to get banned members from a server.</p></li>
<li><p>Added <code class="xref py py-meth docutils literal notranslate"><span class="pre">Client.invites_from()</span></code> to get currently active invites in a server.</p></li>
<li><p>Added <code class="xref py py-attr docutils literal notranslate"><span class="pre">Server.me</span></code> attribute to get the <a class="reference internal" href="api.html#discord.Member" title="discord.Member"><code class="xref py py-class docutils literal notranslate"><span class="pre">Member</span></code></a> version of <a class="reference internal" href="api.html#discord.Client.user" title="discord.Client.user"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Client.user</span></code></a>.</p></li>
<li><p>Most data classes now support a <code class="docutils literal notranslate"><span class="pre">hash(obj)</span></code> function to allow you to use them in <code class="docutils literal notranslate"><span class="pre">set</span></code> or <code class="docutils literal notranslate"><span class="pre">dict</span></code> classes or subclasses.</p></li>
<li><p>Add <a class="reference internal" href="api.html#discord.Message.clean_content" title="discord.Message.clean_content"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Message.clean_content()</span></code></a> to get a text version of the content with the user and channel mentioned changed into their names.</p></li>
<li><p>Added a way to remove the messages of the user that just got banned in <code class="xref py py-meth docutils literal notranslate"><span class="pre">Client.ban()</span></code>.</p></li>
<li><p>Added <a class="reference internal" href="api.html#discord.Client.wait_until_ready" title="discord.Client.wait_until_ready"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Client.wait_until_ready()</span></code></a> to facilitate easy creation of tasks that require the client cache to be ready.</p></li>
<li><p>Added <code class="xref py py-meth docutils literal notranslate"><span class="pre">Client.wait_until_login()</span></code> to facilitate easy creation of tasks that require the client to be logged in.</p></li>
<li><p>Add <a class="reference internal" href="api.html#discord.Game" title="discord.Game"><code class="xref py py-class docutils literal notranslate"><span class="pre">discord.Game</span></code></a> to represent any game with custom text to send to <code class="xref py py-meth docutils literal notranslate"><span class="pre">Client.change_status()</span></code>.</p></li>
<li><p>Add <a class="reference internal" href="api.html#discord.Message.nonce" title="discord.Message.nonce"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Message.nonce</span></code></a> attribute.</p></li>
<li><p>Add <a class="reference internal" href="api.html#discord.Member.permissions_in" title="discord.Member.permissions_in"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Member.permissions_in()</span></code></a> as another way of doing <code class="xref py py-meth docutils literal notranslate"><span class="pre">Channel.permissions_for()</span></code>.</p></li>
<li><p>Add <code class="xref py py-meth docutils literal notranslate"><span class="pre">Client.move_member()</span></code> to move a member to another voice channel.</p></li>
<li><p>You can now create a server via <code class="xref py py-meth docutils literal notranslate"><span class="pre">Client.create_server()</span></code>.</p></li>
<li><p>Added <code class="xref py py-meth docutils literal notranslate"><span class="pre">Client.edit_server()</span></code> to edit existing servers.</p></li>
<li><p>Added <code class="xref py py-meth docutils literal notranslate"><span class="pre">Client.server_voice_state()</span></code> to server mute or server deafen a member.</p></li>
<li><p>If you are being rate limited, the library will now handle it for you.</p></li>
<li><p>Add <a class="reference internal" href="api.html#discord.on_member_ban" title="discord.on_member_ban"><code class="xref py py-func docutils literal notranslate"><span class="pre">on_member_ban()</span></code></a> and <a class="reference internal" href="api.html#discord.on_member_unban" title="discord.on_member_unban"><code class="xref py py-func docutils literal notranslate"><span class="pre">on_member_unban()</span></code></a> events that trigger when a member is banned/unbanned.</p></li>
</ul>
</div>
<div class="section" id="performance-improvements">
<h3>Performance Improvements<a class="headerlink" href="#performance-improvements" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>All data classes now use <code class="docutils literal notranslate"><span class="pre">__slots__</span></code> which greatly reduce the memory usage of things kept in cache.</p></li>
<li><p>Due to the usage of <code class="docutils literal notranslate"><span class="pre">asyncio</span></code>, the CPU usage of the library has gone down significantly.</p></li>
<li><p>A lot of the internal cache lists were changed into dictionaries to change the <code class="docutils literal notranslate"><span class="pre">O(n)</span></code> lookup into <code class="docutils literal notranslate"><span class="pre">O(1)</span></code>.</p></li>
<li><p>Compressed READY is now on by default. This means if you’re on a lot of servers (or maybe even a few) you would
receive performance improvements by having to download and process less data.</p></li>
<li><p>While minor, change regex from <code class="docutils literal notranslate"><span class="pre">\d+</span></code> to <code class="docutils literal notranslate"><span class="pre">[0-9]+</span></code> to avoid unnecessary unicode character lookups.</p></li>
</ul>
</div>
<div class="section" id="id17">
<h3>Bug Fixes<a class="headerlink" href="#id17" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Fix bug where guilds being updated did not edit the items in cache.</p></li>
<li><p>Fix bug where <code class="docutils literal notranslate"><span class="pre">member.roles</span></code> were empty upon joining instead of having the <code class="docutils literal notranslate"><span class="pre">&#64;everyone</span></code> role.</p></li>
<li><p>Fix bug where <code class="xref py py-meth docutils literal notranslate"><span class="pre">Role.is_everyone()</span></code> was not being set properly when the role was being edited.</p></li>
<li><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">Client.logs_from()</span></code> now handles cases where limit &gt; 100 to sidestep the discord API limitation.</p></li>
<li><p>Fix bug where a role being deleted would trigger a <code class="docutils literal notranslate"><span class="pre">ValueError</span></code>.</p></li>
<li><p>Fix bug where <a class="reference internal" href="api.html#discord.Permissions.kick_members" title="discord.Permissions.kick_members"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Permissions.kick_members()</span></code></a> and <a class="reference internal" href="api.html#discord.Permissions.ban_members" title="discord.Permissions.ban_members"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Permissions.ban_members()</span></code></a> were flipped.</p></li>
<li><p>Mentions are now triggered normally. This was changed due to the way discord handles it internally.</p></li>
<li><p>Fix issue when a <a class="reference internal" href="api.html#discord.Message" title="discord.Message"><code class="xref py py-class docutils literal notranslate"><span class="pre">Message</span></code></a> would attempt to upgrade a <code class="xref py py-attr docutils literal notranslate"><span class="pre">Message.server</span></code> when the channel is
a <a class="reference internal" href="api.html#discord.Object" title="discord.Object"><code class="xref py py-class docutils literal notranslate"><span class="pre">Object</span></code></a>.</p></li>
<li><p>Unavailable servers were not being added into cache, this has been corrected.</p></li>
</ul>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Changelog</a><ul>
<li><a class="reference internal" href="#v0-16-6">v0.16.6</a><ul>
<li><a class="reference internal" href="#bug-fixes">Bug Fixes</a></li>
</ul>
</li>
<li><a class="reference internal" href="#v0-16-1">v0.16.1</a><ul>
<li><a class="reference internal" href="#id1">Bug Fixes</a></li>
</ul>
</li>
<li><a class="reference internal" href="#v0-16-0">v0.16.0</a><ul>
<li><a class="reference internal" href="#new-features">New Features</a></li>
<li><a class="reference internal" href="#id2">Bug Fixes</a></li>
</ul>
</li>
<li><a class="reference internal" href="#v0-15-1">v0.15.1</a></li>
<li><a class="reference internal" href="#v0-15-0">v0.15.0</a><ul>
<li><a class="reference internal" href="#id3">New Features</a></li>
</ul>
</li>
<li><a class="reference internal" href="#v0-14-3">v0.14.3</a><ul>
<li><a class="reference internal" href="#id4">Bug Fixes</a></li>
</ul>
</li>
<li><a class="reference internal" href="#v0-14-2">v0.14.2</a><ul>
<li><a class="reference internal" href="#id5">New Features</a></li>
<li><a class="reference internal" href="#id6">Bug Fixes</a></li>
</ul>
</li>
<li><a class="reference internal" href="#v0-14-1">v0.14.1</a><ul>
<li><a class="reference internal" href="#id7">Bug fixes</a></li>
</ul>
</li>
<li><a class="reference internal" href="#v0-14-0">v0.14.0</a><ul>
<li><a class="reference internal" href="#id8">New Features</a></li>
<li><a class="reference internal" href="#id9">Bug Fixes</a></li>
</ul>
</li>
<li><a class="reference internal" href="#v0-13-0">v0.13.0</a><ul>
<li><a class="reference internal" href="#id10">New Features</a></li>
<li><a class="reference internal" href="#id11">Bug Fixes</a></li>
</ul>
</li>
<li><a class="reference internal" href="#v0-12-0">v0.12.0</a><ul>
<li><a class="reference internal" href="#id12">New Features</a></li>
<li><a class="reference internal" href="#id13">Bug Fixes</a></li>
</ul>
</li>
<li><a class="reference internal" href="#v0-11-0">v0.11.0</a><ul>
<li><a class="reference internal" href="#breaking-changes">Breaking Changes</a></li>
<li><a class="reference internal" href="#id14">New Features</a></li>
<li><a class="reference internal" href="#id15">Bug Fixes</a></li>
</ul>
</li>
<li><a class="reference internal" href="#v0-10-0">v0.10.0</a><ul>
<li><a class="reference internal" href="#id16">New Features</a></li>
<li><a class="reference internal" href="#performance-improvements">Performance Improvements</a></li>
<li><a class="reference internal" href="#id17">Bug Fixes</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<!-- purposefully empty -->
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
  <div class="footer">
    &copy; Copyright 2015-2017, Rapptz.
    Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.7.1.
  </div>
  
  </body>
</html>